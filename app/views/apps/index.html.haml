.container
  .card-panel
    .row
      .col.s12
        .row
          .col.s6
            %a.large-font{href: my_apps_path} My Apps
          .col.s6.right-align
            %a.waves-effect.waves-light.btn{href: new_app_path }
              %i.material-icons.left add
              Add
        .divider
        %br
          - if @apps.present?
            .row
              - @apps.each  do |app|
                .col.s12.m6
                  .card.blue-grey.darken-1
                    .card-content.white-text
                      %span.card-title
                        %strong= app.name
                      %p
                        .row
                          .col.s12.m6
                            ClientId:
                            %br
                              = app.client_id
                        .row
                          .col.s12.m6
                            Secret:
                            %br
                              = app.secret_token
                    -#.card-action
                      %a.waves-effect.waves-light{:href => edit_app_path(app)} Edit
                      -#= link_to 'Delete', app_path(app), method: :delete, class: 'waves-effect waves-light right-align', data: { confirm: 'Are you certain you want to delete this?' }
                      - if app.tour
                        %a.waves-effect.waves-light{href: tour_path(app.tour)} Tour
                      - else
                        -#%a.waves-effect.waves-light{:href => new_app_tour_path(app)} Add Tour
                        %a.modal-trigger.waves-effect.waves-light.add-tour-btn{:href => '#new-tour-form', data: {id: app.id}} Add Tour
          - else
            .row.valign-wrapper
              .col.s12.center-align
                .red-text.darken-2 Currently no app's exit.
    -#.row
      .col.s12
        #new-tour-form.modal.modal-fixed-footer
          = form_for(Tour.new, url: create_tour_path) do |f|
            = f.hidden_field :app_id # override for above
            .modal-content
              %h5 Add Tour
              .divider
              %p.tour-form
                .row
                  .col.s12
                    -#- if @app.errors.any?
                      = render 'shared/error_messages', resource: @app
                .row
                  .input-field.col.s12
                    = f.text_field :name,  class: 'validate', required: true
                    %label{:for => "tour_name" } Name*
            .modal-footer
              %a.modal-action.modal-close.waves-effect.waves-green.btn-flat.btn-cancel-tour{:href => "#!"} Close
              = f.submit 'Create', class: 'waves-effect waves-light btn'

